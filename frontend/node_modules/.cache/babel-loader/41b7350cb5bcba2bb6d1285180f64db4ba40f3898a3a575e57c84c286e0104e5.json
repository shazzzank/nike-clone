{"ast":null,"code":"import { memoize } from \"@smithy/property-provider\";\nimport { SignatureV4 } from \"@smithy/signature-v4\";\nimport { normalizeProvider } from \"@smithy/util-middleware\";\nconst CREDENTIAL_EXPIRE_WINDOW = 300000;\nexport const resolveAwsAuthConfig = input => {\n  const normalizedCreds = input.credentials ? normalizeCredentialProvider(input.credentials) : input.credentialDefaultProvider(Object.assign({}, input, {\n    parentClientConfig: input\n  }));\n  const {\n    signingEscapePath = true,\n    systemClockOffset = input.systemClockOffset || 0,\n    sha256\n  } = input;\n  let signer;\n  if (input.signer) {\n    signer = normalizeProvider(input.signer);\n  } else if (input.regionInfoProvider) {\n    signer = () => normalizeProvider(input.region)().then(async region => [(await input.regionInfoProvider(region, {\n      useFipsEndpoint: await input.useFipsEndpoint(),\n      useDualstackEndpoint: await input.useDualstackEndpoint()\n    })) || {}, region]).then(([regionInfo, region]) => {\n      const {\n        signingRegion,\n        signingService\n      } = regionInfo;\n      input.signingRegion = input.signingRegion || signingRegion || region;\n      input.signingName = input.signingName || signingService || input.serviceId;\n      const params = {\n        ...input,\n        credentials: normalizedCreds,\n        region: input.signingRegion,\n        service: input.signingName,\n        sha256,\n        uriEscapePath: signingEscapePath\n      };\n      const SignerCtor = input.signerConstructor || SignatureV4;\n      return new SignerCtor(params);\n    });\n  } else {\n    signer = async authScheme => {\n      authScheme = Object.assign({}, {\n        name: \"sigv4\",\n        signingName: input.signingName || input.defaultSigningName,\n        signingRegion: await normalizeProvider(input.region)(),\n        properties: {}\n      }, authScheme);\n      const isSigv4a = authScheme?.name === \"sigv4a\";\n      const signingRegion = authScheme.signingRegion;\n      const signingService = authScheme.signingName;\n      let regionForSigner;\n      if (isSigv4a) {\n        regionForSigner = input.signingRegion || signingRegion;\n      } else {\n        input.signingRegion = input.signingRegion || signingRegion;\n        regionForSigner = input.signingRegion;\n      }\n      input.signingName = input.signingName || signingService || input.serviceId;\n      const params = {\n        ...input,\n        credentials: normalizedCreds,\n        region: regionForSigner,\n        service: input.signingName,\n        sha256,\n        uriEscapePath: signingEscapePath\n      };\n      const SignerCtor = input.signerConstructor || SignatureV4;\n      return new SignerCtor(params);\n    };\n  }\n  return {\n    ...input,\n    systemClockOffset,\n    signingEscapePath,\n    credentials: normalizedCreds,\n    signer\n  };\n};\nexport const resolveSigV4AuthConfig = input => {\n  const normalizedCreds = input.credentials ? normalizeCredentialProvider(input.credentials) : input.credentialDefaultProvider(Object.assign({}, input, {\n    parentClientConfig: input\n  }));\n  const {\n    signingEscapePath = true,\n    systemClockOffset = input.systemClockOffset || 0,\n    sha256\n  } = input;\n  let signer;\n  if (input.signer) {\n    signer = normalizeProvider(input.signer);\n  } else {\n    signer = normalizeProvider(new SignatureV4({\n      credentials: normalizedCreds,\n      region: input.region,\n      service: input.signingName,\n      sha256,\n      uriEscapePath: signingEscapePath\n    }));\n  }\n  return {\n    ...input,\n    systemClockOffset,\n    signingEscapePath,\n    credentials: normalizedCreds,\n    signer\n  };\n};\nconst normalizeCredentialProvider = credentials => {\n  if (typeof credentials === \"function\") {\n    return memoize(credentials, credentials => credentials.expiration !== undefined && credentials.expiration.getTime() - Date.now() < CREDENTIAL_EXPIRE_WINDOW, credentials => credentials.expiration !== undefined);\n  }\n  return normalizeProvider(credentials);\n};","map":{"version":3,"names":["memoize","SignatureV4","normalizeProvider","CREDENTIAL_EXPIRE_WINDOW","resolveAwsAuthConfig","input","normalizedCreds","credentials","normalizeCredentialProvider","credentialDefaultProvider","Object","assign","parentClientConfig","signingEscapePath","systemClockOffset","sha256","signer","regionInfoProvider","region","then","useFipsEndpoint","useDualstackEndpoint","regionInfo","signingRegion","signingService","signingName","serviceId","params","service","uriEscapePath","SignerCtor","signerConstructor","authScheme","name","defaultSigningName","properties","isSigv4a","regionForSigner","resolveSigV4AuthConfig","expiration","undefined","getTime","Date","now"],"sources":["/Users/shashanktayal/Projects/bigass/frontend/node_modules/@aws-sdk/middleware-signing/dist-es/awsAuthConfiguration.js"],"sourcesContent":["import { memoize } from \"@smithy/property-provider\";\nimport { SignatureV4 } from \"@smithy/signature-v4\";\nimport { normalizeProvider } from \"@smithy/util-middleware\";\nconst CREDENTIAL_EXPIRE_WINDOW = 300000;\nexport const resolveAwsAuthConfig = (input) => {\n    const normalizedCreds = input.credentials\n        ? normalizeCredentialProvider(input.credentials)\n        : input.credentialDefaultProvider(Object.assign({}, input, {\n            parentClientConfig: input,\n        }));\n    const { signingEscapePath = true, systemClockOffset = input.systemClockOffset || 0, sha256 } = input;\n    let signer;\n    if (input.signer) {\n        signer = normalizeProvider(input.signer);\n    }\n    else if (input.regionInfoProvider) {\n        signer = () => normalizeProvider(input.region)()\n            .then(async (region) => [\n            (await input.regionInfoProvider(region, {\n                useFipsEndpoint: await input.useFipsEndpoint(),\n                useDualstackEndpoint: await input.useDualstackEndpoint(),\n            })) || {},\n            region,\n        ])\n            .then(([regionInfo, region]) => {\n            const { signingRegion, signingService } = regionInfo;\n            input.signingRegion = input.signingRegion || signingRegion || region;\n            input.signingName = input.signingName || signingService || input.serviceId;\n            const params = {\n                ...input,\n                credentials: normalizedCreds,\n                region: input.signingRegion,\n                service: input.signingName,\n                sha256,\n                uriEscapePath: signingEscapePath,\n            };\n            const SignerCtor = input.signerConstructor || SignatureV4;\n            return new SignerCtor(params);\n        });\n    }\n    else {\n        signer = async (authScheme) => {\n            authScheme = Object.assign({}, {\n                name: \"sigv4\",\n                signingName: input.signingName || input.defaultSigningName,\n                signingRegion: await normalizeProvider(input.region)(),\n                properties: {},\n            }, authScheme);\n            const isSigv4a = authScheme?.name === \"sigv4a\";\n            const signingRegion = authScheme.signingRegion;\n            const signingService = authScheme.signingName;\n            let regionForSigner;\n            if (isSigv4a) {\n                regionForSigner = input.signingRegion || signingRegion;\n            }\n            else {\n                input.signingRegion = input.signingRegion || signingRegion;\n                regionForSigner = input.signingRegion;\n            }\n            input.signingName = input.signingName || signingService || input.serviceId;\n            const params = {\n                ...input,\n                credentials: normalizedCreds,\n                region: regionForSigner,\n                service: input.signingName,\n                sha256,\n                uriEscapePath: signingEscapePath,\n            };\n            const SignerCtor = input.signerConstructor || SignatureV4;\n            return new SignerCtor(params);\n        };\n    }\n    return {\n        ...input,\n        systemClockOffset,\n        signingEscapePath,\n        credentials: normalizedCreds,\n        signer,\n    };\n};\nexport const resolveSigV4AuthConfig = (input) => {\n    const normalizedCreds = input.credentials\n        ? normalizeCredentialProvider(input.credentials)\n        : input.credentialDefaultProvider(Object.assign({}, input, {\n            parentClientConfig: input,\n        }));\n    const { signingEscapePath = true, systemClockOffset = input.systemClockOffset || 0, sha256 } = input;\n    let signer;\n    if (input.signer) {\n        signer = normalizeProvider(input.signer);\n    }\n    else {\n        signer = normalizeProvider(new SignatureV4({\n            credentials: normalizedCreds,\n            region: input.region,\n            service: input.signingName,\n            sha256,\n            uriEscapePath: signingEscapePath,\n        }));\n    }\n    return {\n        ...input,\n        systemClockOffset,\n        signingEscapePath,\n        credentials: normalizedCreds,\n        signer,\n    };\n};\nconst normalizeCredentialProvider = (credentials) => {\n    if (typeof credentials === \"function\") {\n        return memoize(credentials, (credentials) => credentials.expiration !== undefined &&\n            credentials.expiration.getTime() - Date.now() < CREDENTIAL_EXPIRE_WINDOW, (credentials) => credentials.expiration !== undefined);\n    }\n    return normalizeProvider(credentials);\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
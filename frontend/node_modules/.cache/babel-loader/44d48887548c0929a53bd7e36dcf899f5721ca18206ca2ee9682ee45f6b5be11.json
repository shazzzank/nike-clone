{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import Layout from\"../layout\";import Slider from\"../components/slider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Favorites(){const favorites=JSON.parse(sessionStorage.getItem(\"favorites\"))||[];const[products,setProducts]=useState([]);const navigate=useNavigate();useEffect(()=>{axios.post(\"/products\").then(res=>setProducts(res.data)).catch(err=>console.log(err));},[]);return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-10/12 py-10 m-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-medium text-2xl text-gray-700 mb-5\",children:\"Favorites\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6 pt-8 pb-10\",children:favorites.length?favorites.map(product=>{var _product$price,_product$price2;return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>navigate(\"/product/\".concat(product.slug)),className:\"flex flex-col text-sm sm:text-base mt-5 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"w-full px-5 h-64 object-contain mb-2 bg-gray-100 border border-transparent rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500\",children:[product.category,\" Shoes\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900 mt-1\",children:product.discount&&product.discount>0?/*#__PURE__*/_jsxs(\"div\",{class:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"$\"+(product.price-product.price*product.discount/100).toFixed(2)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-300 line-through\",children:[\"$\",(_product$price=product.price)===null||_product$price===void 0?void 0:_product$price.toFixed(2)]})]}):/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",(_product$price2=product.price)===null||_product$price2===void 0?void 0:_product$price2.toFixed(2)]})})]})]},product._id);}):/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:\"You can find items you've favorited saved here.\"})}),/*#__PURE__*/_jsx(Slider,{products:products,heading:\"Discover Your Next Favorites\"})]})});}export default Favorites;","map":{"version":3,"names":["useState","useEffect","useNavigate","axios","Layout","Slider","jsx","_jsx","jsxs","_jsxs","Favorites","favorites","JSON","parse","sessionStorage","getItem","products","setProducts","navigate","post","then","res","data","catch","err","console","log","children","className","length","map","product","_product$price","_product$price2","onClick","concat","slug","src","image","alt","name","category","discount","class","price","toFixed","_id","heading"],"sources":["/Users/shashanktayal/Documents/GitHub/nike-clone/frontend/src/pages/favorites.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Layout from \"../layout\";\nimport Slider from \"../components/slider\";\n\nfunction Favorites() {\n  const favorites = JSON.parse(sessionStorage.getItem(\"favorites\")) || [];\n  const [products, setProducts] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios\n      .post(\"/products\")\n      .then((res) => setProducts(res.data))\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <Layout>\n      <div className=\"w-10/12 py-10 m-auto\">\n        <h2 className=\"font-medium text-2xl text-gray-700 mb-5\">Favorites</h2>\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6 pt-8 pb-10\">\n          {favorites.length ? (\n            favorites.map((product) => (\n              <div\n                key={product._id}\n                onClick={() => navigate(`/product/${product.slug}`)}\n                className=\"flex flex-col text-sm sm:text-base mt-5 cursor-pointer\"\n              >\n                <img\n                  src={product.image}\n                  alt={product.name}\n                  className=\"w-full px-5 h-64 object-contain mb-2 bg-gray-100 border border-transparent rounded-lg\"\n                />\n                <div className=\"flex justify-between\">\n                  <div>\n                    <p className=\"font-medium text-gray-900\">{product.name}</p>\n                    <p className=\"text-gray-500\">{product.category} Shoes</p>\n                  </div>\n                  <p className=\"font-medium text-gray-900 mt-1\">\n                    {product.discount && product.discount > 0 ? (\n                      <div class=\"flex flex-col\">\n                        <span>\n                          {\"$\" +\n                            (\n                              product.price -\n                              (product.price * product.discount) / 100\n                            ).toFixed(2)}\n                        </span>\n                        <span className=\"text-gray-300 line-through\">\n                          ${product.price?.toFixed(2)}\n                        </span>\n                      </div>\n                    ) : (\n                      <span>${product.price?.toFixed(2)}</span>\n                    )}\n                  </p>\n                </div>\n              </div>\n            ))\n          ) : (\n            <p className=\"font-medium\">\n              You can find items you've favorited saved here.\n            </p>\n          )}\n        </div>\n        <Slider products={products} heading=\"Discover Your Next Favorites\" />\n      </div>\n    </Layout>\n  );\n}\n\nexport default Favorites;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
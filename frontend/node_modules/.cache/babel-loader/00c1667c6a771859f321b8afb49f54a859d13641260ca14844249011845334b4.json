{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import Layout from\"../layout\";import Button from\"../components/button\";import Bin from\"../icons/bin\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(){const[cart,setCart]=useState([]);const navigate=useNavigate();useEffect(()=>{const savedCart=JSON.parse(sessionStorage.getItem(\"cart\"))||[];setCart(savedCart);},[]);function scrapCart(id){if(id){const updatedCart=cart.filter(item=>item.product._id!==id);sessionStorage.setItem(\"cart\",JSON.stringify(updatedCart));setCart(updatedCart);}}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-9/12 pt-10 m-auto *:inline-block *:align-top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-2xl text-gray-700 mb-5\",children:\"Bag\"}),cart!==null&&cart!==void 0&&cart.length?cart.map((item,i)=>{var _item$product$price,_item$product$price2;return/*#__PURE__*/_jsxs(\"div\",{className:i,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"*:inline-block *:align-top\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-1/4 h-24 object-contain p-4 bg-gray-100 mr-4\",src:item.product.image,alt:item.product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-4/12\",children:[/*#__PURE__*/_jsx(\"h4\",{onClick:()=>navigate(\"/product/\".concat(item.product.slug)),children:item.product.name}),/*#__PURE__*/_jsxs(\"h5\",{className:\"font-light text-gray-500\",children:[item.product.category,\" Shoes\"]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-light text-gray-500 pt-2\",children:[\"Size: \",item.size]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-light text-gray-500 p2-2\",children:[\"Color: \",item.color]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/12 mr-4 text-right\",children:[item.product.discount&&item.product.discount>0?/*#__PURE__*/_jsxs(\"h4\",{className:\"flex flex-col mb-8\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"$\"+(item.product.price-item.product.price*item.product.discount/100).toFixed(2)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300 line-through\",children:\"$\"+((_item$product$price=item.product.price)===null||_item$product$price===void 0?void 0:_item$product$price.toFixed(2))})]}):/*#__PURE__*/_jsx(\"h4\",{className:\"mb-12\",children:\"$\"+((_item$product$price2=item.product.price)===null||_item$product$price2===void 0?void 0:_item$product$price2.toFixed(2))}),/*#__PURE__*/_jsx(\"button\",{onClick:_=>scrapCart(item.product._id),children:/*#__PURE__*/_jsx(Bin,{})})]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"h-px my-8 bg-gray-200 w-11/12\"})]},i);}):\"There are no items in your bag\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-2/5 text-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-xl text-gray-700 mb-5\",children:\"Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"inline-block w-9/12\",children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"inline-block w-3/12 text-right\",children:\"$\"+(cart===null||cart===void 0?void 0:cart.reduce((i,_ref)=>{let{product}=_ref;return i+product.price-product.price*product.discount/100;},0).toFixed(2))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"inline-block w-9/12\",children:\"Tax\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"inline-block w-3/12 text-right\",children:\"$\"+(cart===null||cart===void 0?void 0:cart.reduce((i,_ref2)=>{let{product}=_ref2;return i+(product.price-product.price*product.discount/100)*0.088;},0).toFixed(2))})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"h-px my-5 bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"inline-block w-9/12\",children:\"Total\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"inline-block w-3/12 text-right font-medium text-gray-900\",children:\"$\"+(cart===null||cart===void 0?void 0:cart.reduce((i,_ref3)=>{let{price}=_ref3;return i+price;},0).toFixed(2))})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"h-px my-5 bg-gray-200\"}),/*#__PURE__*/_jsx(Button,{text:\"Checkout\",onClick:()=>navigate(\"/checkout\")})]})]})});}export default Cart;","map":{"version":3,"names":["useState","useEffect","useNavigate","Layout","Button","Bin","jsx","_jsx","jsxs","_jsxs","Cart","cart","setCart","navigate","savedCart","JSON","parse","sessionStorage","getItem","scrapCart","id","updatedCart","filter","item","product","_id","setItem","stringify","children","className","length","map","i","_item$product$price","_item$product$price2","src","image","alt","name","onClick","concat","slug","category","size","color","discount","price","toFixed","_","reduce","_ref","_ref2","_ref3","text"],"sources":["/Users/shashanktayal/Documents/GitHub/nike-clone/frontend/src/pages/cart.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Layout from \"../layout\";\nimport Button from \"../components/button\";\nimport Bin from \"../icons/bin\";\n\nfunction Cart() {\n  const [cart, setCart] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const savedCart = JSON.parse(sessionStorage.getItem(\"cart\")) || [];\n    setCart(savedCart);\n  }, []);\n\n  function scrapCart(id) {\n    if (id) {\n      const updatedCart = cart.filter((item) => item.product._id !== id);\n      sessionStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      setCart(updatedCart);\n    }\n  }\n\n  return (\n    <Layout>\n      <div className=\"w-9/12 pt-10 m-auto *:inline-block *:align-top\">\n        <div className=\"w-3/5\">\n          <h3 className=\"font-medium text-2xl text-gray-700 mb-5\">Bag</h3>\n          {cart?.length\n            ? cart.map((item, i) => (\n                <div key={i} className={i}>\n                  <div className=\"*:inline-block *:align-top\">\n                    <img\n                      className=\"w-1/4 h-24 object-contain p-4 bg-gray-100 mr-4\"\n                      src={item.product.image}\n                      alt={item.product.name}\n                    />\n                    <div className=\"w-4/12\">\n                      <h4\n                        onClick={() =>\n                          navigate(`/product/${item.product.slug}`)\n                        }\n                      >\n                        {item.product.name}\n                      </h4>\n                      <h5 className=\"font-light text-gray-500\">\n                        {item.product.category} Shoes\n                      </h5>\n                      <h5 className=\"text-sm font-light text-gray-500 pt-2\">\n                        Size: {item.size}\n                      </h5>\n                      <h5 className=\"text-sm font-light text-gray-500 p2-2\">\n                        Color: {item.color}\n                      </h5>\n                    </div>\n                    <div className=\"w-3/12 mr-4 text-right\">\n                      {item.product.discount && item.product.discount > 0 ? (\n                        <h4 className=\"flex flex-col mb-8\">\n                          <span>\n                            {\"$\" +\n                              (\n                                item.product.price -\n                                (item.product.price * item.product.discount) /\n                                  100\n                              ).toFixed(2)}\n                          </span>\n                          <span className=\"text-gray-300 line-through\">\n                            {\"$\" + item.product.price?.toFixed(2)}\n                          </span>\n                        </h4>\n                      ) : (\n                        <h4 className=\"mb-12\">\n                          {\"$\" + item.product.price?.toFixed(2)}\n                        </h4>\n                      )}\n                      <button onClick={(_) => scrapCart(item.product._id)}>\n                        <Bin />\n                      </button>\n                    </div>\n                  </div>\n\n                  <hr className=\"h-px my-8 bg-gray-200 w-11/12\" />\n                </div>\n              ))\n            : \"There are no items in your bag\"}\n        </div>\n        <div className=\"w-2/5 text-gray-700\">\n          <h3 className=\"font-medium text-xl text-gray-700 mb-5\">Summary</h3>\n          <div className=\"mb-3\">\n            <h5 className=\"inline-block w-9/12\">Subtotal</h5>\n            <h5 className=\"inline-block w-3/12 text-right\">\n              {\"$\" +\n                cart\n                  ?.reduce(\n                    (i, { product }) =>\n                      i +\n                      product.price -\n                      (product.price * product.discount) / 100,\n                    0,\n                  )\n                  .toFixed(2)}\n            </h5>\n          </div>\n          <div className=\"\">\n            <h5 className=\"inline-block w-9/12\">Tax</h5>\n            <h5 className=\"inline-block w-3/12 text-right\">\n              {\"$\" +\n                cart\n                  ?.reduce(\n                    (i, { product }) =>\n                      i +\n                      (product.price -\n                        (product.price * product.discount) / 100) *\n                        0.088,\n                    0,\n                  )\n                  .toFixed(2)}\n            </h5>\n          </div>\n          <hr className=\"h-px my-5 bg-gray-200\" />\n          <div className=\"\">\n            <h5 className=\"inline-block w-9/12\">Total</h5>\n            <h5 className=\"inline-block w-3/12 text-right font-medium text-gray-900\">\n              {\"$\" + cart?.reduce((i, { price }) => i + price, 0).toFixed(2)}\n            </h5>\n          </div>\n          <hr className=\"h-px my-5 bg-gray-200\" />\n          <Button text=\"Checkout\" onClick={() => navigate(\"/checkout\")} />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport default Cart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}